<section *ngIf="loading">
    <app-loader></app-loader>
</section>

<section *ngIf="!loading">
<div *ngIf="view">
    <img src="" width="200">
    <br>
    <br>
    <br><br><br>



    <div class="page-content page-container" id="page-content">
        <div class="padding">
            <div class="card user-card-full">
                <div class="row m-l-0 m-r-0">
                    <div class="col-sm-4 bg-c-lite-green user-profile">
                        <div class="card-block text-center text-white">
                            <div class="image">
                                <img *ngIf="check" src="{{userUrl}}{{user.image}}" class="img-radius" alt="">
                                <img *ngIf="!check"
                                    src="https://www.google.com/imgres?imgurl=http%3A%2F%2Fwww.canada-work.com%2F_%2Frsrc%2F1531284300421%2Fassistants%2Ffemale_generic_profile.png&imgrefurl=http%3A%2F%2Fwww.canada-work.com%2Fassistants%2Fsample-profile-page&tbnid=XQYYk9kIhcIYXM&vet=12ahUKEwjUu_nY4_PuAhXQxXMBHb6GAFEQMygDegUIARDVAQ..i&docid=51x3oxxuJwGqkM&w=220&h=220&q=profile%20picture%20sample&ved=2ahUKEwjUu_nY4_PuAhXQxXMBHb6GAFEQMygDegUIARDVAQ"
                                    alt="">
                            </div>
                            <!-- <input type="file" id="myFile"  name="img"><br> -->
                            <h16 class="f-w-600">{{user.name}}</h16>

                            <br><br><br><br><br><br><br>


                            <button class="btn btn-primary && button" (click)="viewChanged()">Edit
                                Profile</button>
                            <i class=" mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16"></i>
                        </div>

                    </div>
                    <div class="col-sm-8">
                        <div class="card-block">
                            <h6 class="m-b-20 p-b-5 b-b-default f-w-600">Information</h6>
                            <!-- <div class="col-sm-6"> -->
                            <p class="rowdata f-w-600">Email</p>
                            <h6 class="text-muted f-w-400">{{user.email}}</h6><br>
                            <!-- </div> -->
                            <!-- <div class="col-sm-7"> -->
                            <p class="rowdata f-w-600">Mobile Number</p>
                            <h6 class="text-muted f-w-400">{{user.phone}}</h6><br>
                            <!-- </div> -->
                            <!-- <div class="col-sm-6"> -->
                            <p class="rowdata f-w-600">Gender</p>
                            <h6 class="text-muted f-w-400">{{user.gender}}</h6><br>
                            <!-- </div> -->
                            <!-- <div class="col-sm-6"> -->
                            <p class="rowdata f-w-600">Date Of Birth</p>
                            <h6 class="text-muted f-w-400">{{user.dob}}</h6><br>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

<div *ngIf='!view'>
    <div id="container">

        <form #editForm="ngForm" class="form-control && contain && center" style="width: 40%" novalidate>
            <h3>
                Edit Profile
            </h3>
            <br>

            <label for="name">Name</label>
            <input class="form-control && color" type="text" placeholder="Name" [(ngModel)]="user.name" name="name"
                #name="ngModel" required>
            <br>

            <label for="profile">Profile Picture</label><br>
            <input type="file" id="myFile" name="img" single><br>
            <br>

            <label for="username">Username</label>
            <input class="form-control && color" type="text" placeholder="Username" [(ngModel)]="user.username"
                name="username" #username="ngModel">
            <br>

            <label for="password">Password</label>
            <a routerLink="/user/change-password" class="link"> Click to Change Password</a>
            <br>
            <br>

            <label for="email">Email Address</label>
            <input class="form-control && color" type="text" placeholder="Email Address" [(ngModel)]="user.email"
                name="email" #email="ngModel">
            <br>

            <label for="phone">Mobile Number</label>
            <input class="form-control && color" type="number" placeholder="Mobile Number" [(ngModel)]="user.phone"
                name="phone" #phone="ngModel" required>
            <br>

            <label for="gender">Gender</label>
            <!-- <input class="form-control && color" type="text" placeholder="Gender" [(ngModel)]="user.gender"
                name="gender" #gender="ngModel">-->
            <select type="text" id="gender" class="form-control && color" [(ngModel)]="user.gender" name="gender"
                #gender="ngModel">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="others">Others</option>
            </select>
            <br>

            <label for="dob">Date of Birth</label>
            <input class="form-control && color" type="date" [(ngModel)]="user.dob" name="dob" #dob="ngModel">
            <br>

            <button [disabled]="editForm.invalid" *ngIf="!submitting" class="btn btn-primary && button"
                (click)="edit()">Update</button>
            <button disabled *ngIf="submitting" class="btn btn-info && button">Updating...</button>
        </form>
    </div>
</div>
</section>